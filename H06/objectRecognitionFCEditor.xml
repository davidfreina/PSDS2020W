<Workflow name="objectRecognition"><Array as="dataIns"><DataIns name="videoBucketId" type="string" source="videoBucketId"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="numberOfFramesToAnalyzePerInstance" type="number" source="numberOfFramesToAnalyzePerInstance"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"/><Array as="body"><Cell id="0"/><Cell id="1" parent="0"/><Cell id="2" value="Start" style="start" type="start" vertex="1" parent="1"><mxGeometry x="60.3828125" width="40" height="40" as="geometry"/></Cell><Cell id="3" style="fn" type="AtomicFunction" vertex="1" parent="1"><AtomicFunction name="getVideoLinks" type="getVideoLinksType" as="value"><Array as="properties"><Object name="resource" value="nodejs:arn:aws:lambda:us-east-1:778033607199:function:getVideoLinks"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="videoBucketId" type="string" source="objectRecognition/videoBucketId"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="videoLinks" type="collection"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="numberOfVideos" type="number" saveto="numberOfVideos"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="36.3828125" y="90" width="88" height="32" as="geometry"/></Cell><Cell id="4" style="parallelFor" type="ParallelFor" vertex="1" parent="1"><ParallelFor name="extractFramesParallel" as="value"><Array as="properties"/><Array as="constraints"/><Array as="dataIns"><DataIns name="videoLinks" type="collection" source="getVideoLinks/videoLinks"><Array as="properties"/><Array as="constraints"><Object name="distribution" value="BLOCK(1)"/></Array></DataIns><DataIns name="numberOfVideos" type="number" source="getVideoLinks/numberOfVideos"><Array as="properties"/><Array as="constraints"><Object name="distribution" value="REPLICATE(*)"/></Array></DataIns></Array><Array as="dataOuts"><DataOuts name="extractFramesSuccess" type="collection" source="extractFrames/extractFramesSuccess"><Array as="properties"/><Array as="constraints"><Object name="aggregation" value="+"/></Array></DataOuts><DataOuts name="extractedFramesBuckets" type="collection" source="extractFrames/extractedFramesBucket"><Array as="properties"/><Array as="constraints"><Object name="aggregation" value="+"/></Array></DataOuts><DataOuts name="numberOfVideos" type="number" source="extractFrames/numberOfVideos"><Array as="properties"/><Array as="constraints"/></DataOuts></Array><LoopCounter type="number" from="0" to="getVideoLinks/numberOfVideos" step="1" name="counter" as="loopCounter"/></ParallelFor><mxGeometry x="30.421875" y="172" width="128" height="84" as="geometry"/></Cell><Cell id="5" style="fn" type="AtomicFunction" vertex="1" parent="4"><AtomicFunction name="extractFrames" type="extractFramesType" as="value"><Array as="properties"><Object name="resource" value="nodejs:arn:aws:lambda:us-east-1:778033607199:function:extractFrames"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="videoLinks" type="string" source="extractFramesParallel/videoLinks"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="numberOfVideos" type="number" source="extractFramesParallel/numberOfVideos"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="extractFramesSuccess" type="number"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="extractedFramesBucket" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="numberOfVideos" type="number"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry width="88" height="32" as="geometry"/></Cell><Cell id="6" style="parallelFor" type="ParallelFor" vertex="1" parent="1"><ParallelFor name="analyzeFramesParallel" as="value"><Array as="properties"/><Array as="constraints"/><Array as="dataIns"><DataIns name="extractedFramesBuckets" type="string" source="extractFramesParallel/extractedFramesBuckets"><Array as="properties"/><Array as="constraints"><Object name="distribution" value="BLOCK(1)"/></Array></DataIns><DataIns name="numberOfVideos" type="number" source="extractFramesParallel/numberOfVideos"><Array as="properties"/><Array as="constraints"><Object name="distribution" value="REPLICATE(*)"/></Array></DataIns></Array><Array as="dataOuts"><DataOuts name="analyzedFrameNamesCollection" type="collection" source="analyzeFrames/analyzedFrameNames"><Array as="properties"/><Array as="constraints"><Object name="aggregation" value="+"/></Array></DataOuts><DataOuts name="extractedFramesBucketCollection" type="collection" source="analyzeFrames/extractedFramesBucket"><Array as="properties"/><Array as="constraints"><Object name="aggregation" value="+"/></Array></DataOuts><DataOuts name="numberOfVideos" type="number" source="analyzeFrames/numberOfVideos"><Array as="properties"/><Array as="constraints"/></DataOuts></Array><LoopCounter type="number" from="0" to="extractFramesParallel/numberOfVideos" step="1" name="counter" as="loopCounter"/></ParallelFor><mxGeometry x="31.984375" y="306" width="128" height="84" as="geometry"/></Cell><Cell id="7" style="fn" type="AtomicFunction" vertex="1" parent="6"><AtomicFunction name="analyzeFrames" type="analyzeFramesType" as="value"><Array as="properties"><Object name="resource" value="nodejs:arn:aws:lambda:us-east-1:778033607199:function:analyzeFrames"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="extractedFramesBucket" type="string" source="analyzeFramesParallel/extractedFramesBuckets"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="numberOfVideos" type="number" source="analyzeFramesParallel/numberOfVideos"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="analyzedFrameNames" type="collection"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="numberOfVideos" type="number"><Array as="properties"/><Array as="constraints"/></DataOuts><DataOuts name="extractedFramesBucket" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="20" y="32" width="88" height="32" as="geometry"/></Cell><Cell id="8" style="parallelFor" type="ParallelFor" vertex="1" parent="1"><ParallelFor name="awsRekognitionParallel" as="value"><Array as="properties"/><Array as="constraints"/><Array as="dataIns"><DataIns name="analyzedFrameNamesCollection" type="collection" source="analyzeFramesParallel/analyzedFrameNamesCollection"><Array as="properties"/><Array as="constraints"><Object name="distribution" value="BLOCK(1)"/></Array></DataIns><DataIns name="extractedFramesBucketsCollection" type="collection" source="analyzeFramesParallel/extractedFramesBucketCollection"><Array as="properties"/><Array as="constraints"><Object name="distribution" value="BLOCK(1)"/></Array></DataIns></Array><Array as="dataOuts"><DataOuts name="humanSentenceCollection" type="collection" source="awsRekognition/humanSentence"><Array as="properties"/><Array as="constraints"><Object name="aggregation" value="+"/></Array></DataOuts></Array><LoopCounter type="number" from="0" to="analyzeFramesParallel/numberOfVideos" step="1" name="counter" as="loopCounter"/></ParallelFor><mxGeometry x="32.765625" y="440" width="128" height="84" as="geometry"/></Cell><Cell id="9" style="fn" type="AtomicFunction" vertex="1" parent="8"><AtomicFunction name="awsRekognition" type="awsRekognitionType" as="value"><Array as="properties"><Object name="resource" value="nodejs:arn:aws:lambda:us-east-1:778033607199:function:awsRekognition"/></Array><Array as="constraints"/><Array as="dataIns"><DataIns name="analyzedFrameNamesCollection" type="collection" source="awsRekognitionParallel/analyzedFrameNamesCollection"><Array as="properties"/><Array as="constraints"/></DataIns><DataIns name="extractedFramesBucketsCollection" type="collection" source="awsRekognitionParallel/extractedFramesBucketsCollection"><Array as="properties"/><Array as="constraints"/></DataIns></Array><Array as="dataOuts"><DataOuts name="humanSentence" type="string"><Array as="properties"/><Array as="constraints"/></DataOuts></Array></AtomicFunction><mxGeometry x="20" y="32" width="88" height="32" as="geometry"/></Cell><Cell id="10" value="End" style="end" type="end" vertex="1" parent="1"><mxGeometry x="60.3828125" y="574" width="40" height="40" as="geometry"/></Cell><Cell id="11" style="sourcePort=out;targetPort=in;" edge="1" source="2" target="3" parent="1"><mxGeometry as="geometry"><Array as="points"/></mxGeometry></Cell><Cell id="12" style="sourcePort=out;targetPort=in;" edge="1" source="3" target="4" parent="1"><mxGeometry as="geometry"><Array as="points"/></mxGeometry></Cell><Cell id="13" style="sourcePort=out;targetPort=in;" edge="1" source="4" target="6" parent="1"><mxGeometry as="geometry"><Array as="points"/></mxGeometry></Cell><Cell id="14" style="sourcePort=out;targetPort=in;" edge="1" source="6" target="8" parent="1"><mxGeometry as="geometry"><Array as="points"/></mxGeometry></Cell><Cell id="15" style="sourcePort=out;targetPort=in;" edge="1" source="8" target="10" parent="1"><mxGeometry as="geometry"><Array as="points"/></mxGeometry></Cell></Array></Workflow>